include ../../Makefile.inc

# what if import targets could match pattern instead of
# individual files that makefile creates
# --> this could save quite a bit of var def

TCGA_SCORES = $(wildcard ../../scores/tcga/*.RData) #TODO: this only updates, does not create
#TCGA_SCORES = $(call import_target, ../../scores/tcga, "*.RData") # this would be preferred
PLOTS = $(TCGA_SCORES:../../scores/tcga/%.RData=%.pdf)

all: $(PLOTS)

%.pdf: variant_impact.r ../../scores/tcga/%.RData gene_variants.RData
	$(call bsub_log,4096) Rscript $^ $@

gene_variants.RData: gene_variants.r ../tcga_pathway_per_mutation/mutations_annotated_pathwayactivities_v3_mikeformat.txt
	Rscript $^ $@
